% Author: David Larsen <dcl9934@cs.rit.edu>
% Author: Doug Krofcheck <dpk3062@rit.edu>
\documentclass[11pt]{article}
\usepackage[margin=0.7in]{geometry}
\usepackage{listings}   %
\usepackage{needspace}  %
\usepackage{color}      %
\usepackage{ifthen}     % 
\usepackage{graphicx}   %
\usepackage{csc}        %
\usepackage{tikz}       %
\usetikzlibrary{shapes, arrows, automata} %
\usepackage{tabularx}   % for helping matchtabular (matching questions)
\usepackage{textcomp}	% So our quotes in code don't look like shit
\usepackage{longtable}
\usepackage{multicol}
\usepackage{tabu}
\setlength{\columnsep}{12em}

\lstset{ %
basicstyle=\footnotesize\ttfamily,       % the size of the fonts that are used for the code
numbers=left,                   % where to put the line-numbers
stepnumber=1,                   % the step between two line-numbers. If it's 1 each line will be numbered
numbersep=5pt,                  % how far the line-numbers are from the code
showspaces=false,               % show spaces adding particular underscores
showstringspaces=false,         % underline spaces within strings
tabsize=4,		                % sets default tabsize to 4 spaces
language=Java,
upquote=true,
columns=fixed
}

\ifthenelse{\isundefined{\isAnswerKey}}
{
    \newenvironment{answer}{\large\lstset{basicstyle=\tiny\ttfamily}\color{white} }{}
}
{
    \newenvironment{answer}{\large\lstset{basicstyle=\large\ttfamily}\color{red} }{}
}

\ifthenelse{\isundefined{\isAnswerKey}}
{
	\newcommand{\answerrow}[1]{\hline \rowfont{\color{white}} #1}
}
{
	\newcommand{\answerrow}[1]{\hline \rowfont{\color{red}} #1}
}

% ----- Start matchtabular definition -----
\newcounter{matchleft}
\newcounter{matchright}
\newenvironment{matchtabular}{%
  \setcounter{matchleft}{0}%
  \setcounter{matchright}{0}%
  \tabularx{\textwidth}{%
    >{\leavevmode\hbox to 1.5em{\stepcounter{matchleft}\arabic{matchleft}.}}X%
    >{\leavevmode\hbox to 1.5em{\stepcounter{matchright}\alph{matchright})}}X% 
    }%
}{\endtabularx}
% ----- End matchtabular definition -----

\title{CSCI-142 Exam 2 Review}
\author{Computer Science Community}
\date{\today}

\makeatletter
\let\thetitle\@title
\let\theauthor\@author
\let\thedate\@date
\makeatother

\begin{document}
\header
\begin{enumerate}


\item Suppose we are talking about the depth-first search (DFS) algorithm.  Nodes are added to the data structures in alphabetical order.
\begin{enumerate}
\item What underlying data structure does this algorithm use?

\begin{answer}
A stack.
\end{answer}

\item %b
Given the following graph, state the DFS traversal order and show the data structure at each step.
Node \texttt{A} is the start node, and \texttt{F} is the destination node.

\begin{minipage}{0.35\textwidth}
\vspace{-136pt}
\begin{answer}
$\leftarrow$ top of stack \\
A \\
C B \\
E D B \\
D B \\
F B \\
B \\

The traversal order is ACEDF.
\end{answer}
\end{minipage}
\begin{tikzpicture}[shorten >=1pt,auto,node distance=2.8cm,semithick]
	\node[initial,state] (A) {A};
	\node[state]        (B) [above right of=A] {B};
	\node[state]        (C) [below right of=A] {C};
	\node[state]        (D) [right of=B] {D};
	\node[state]        (E) [right of=C] {E};
	\node[state]        (F) [below right of=D] {F};

	\path[->]   (A) edge node {} (C)
		(A) edge node {} (B)
		(B) edge node {} (C)
		(B) edge node {} (D)
		(C) edge node {} (D)
		(C) edge node {} (E)
		(D) edge node {} (F);
\end{tikzpicture}

\item %c
What path from \texttt{A} to \texttt{F} does the DFS algorithm return?

\begin{answer}
ACDF 
\end{answer}

\end{enumerate}


\item Now consider a BFS algorithm.
\begin{enumerate}
\item
What changes would need to be made to a DFS implementation to turn it into a breadth-first search (BFS)?

\begin{answer}
Use a queue data structure (instead of a stack).
\end{answer}

\item
Using the graph as described in Question 1, what is the BFS traversal order?
Show the data structure at each step. \\
\begin{answer}
$\leftarrow$ front of queue \\
A \\
B C \\
C D \\
D E \\
E F \\
F \\

The traversal order is ABCDEF; the \textbf{correct path} is ABDF.
\end{answer}

\item
What path from \texttt{A} to \texttt{F} results from the BFS algorithm?

\begin{answer}
ABDF
\end{answer}

\end{enumerate}


\item When is a vertex's sum weight finalized in Dijkstra's algorithm?

    \begin{answer}
    A vertex's sum weight is final after it has updated the tentative distances
    of all of its neighbors. As part of being finalized, it's moved from the
    unvisited set to the visited set.
    \end{answer}


\item What role does the priority queue play in finding the shortest path?
      When do we use it?

    \begin{answer}
    The priority queue is used to select the next vertex to visit. We want to
    visit the node which currently has the lowest tentative distance from the
    start, so we use a priority queue which always returns the lowest element.
    \end{answer}


\item Why does Dijkstra's algorithm not work correctly on graphs with negative
      edge weights?

\begin{answer}
Dijkstra's algorithm doesn't work correctly on graphs with negative edge
weights due to one of its {\em greedy} behaviors.

When selecting the next node to visit, Dijkstra's algorithm chooses the
node with the current lowest total value, then {\em finalizes} that value
forever. If there were another route to that node, which had not yet been
explored (and contained a net negative weight) Dijkstra's algorithm would
return a suboptimal path.
\end{answer}


\item
Using the following graph, perform Dijkstra's algorithm to find the shortest path between C and E. \\
\includegraphics[height=150px]{graph} \\
\def\arraystretch{1.65}
\begin{tabu}{| c | c | c | c | c | c | c |}
\hline
Finalized & A & B & C & D & E & F\\
\hline
-- & ($\infty$, None) & ($\infty$, None) & \textbf{(0, None)} & ($\infty$, None) & ($\infty$, None) & ($\infty$, None) \\
\answerrow{C & \textbf{(4, C)} & ($\infty$, None) & (0, None) & ($\infty$, None) & ($\infty$, None) & \textbf{(6, C)}} \\
\answerrow{A & (4, C) & \textbf{(6, A)} & (0, None) & \textbf{(11, A)} & ($\infty$, None) & (6, C)} \\
\answerrow{F & (4, C) & (6, A) & (0, None) & \textbf{(7, F)} & \textbf{(12, F)} & (6, C)} \\
\answerrow{B & (4, C) & (6, A) & (0, None) & (7, F) & \textbf{(11, B)} & (6, C)} \\
\answerrow{D & (4, C) & (6, A) & (0, None) & (7, F) & (11, B) & (6, C)} \\
\answerrow{E & (4, C) & (6, A) & (0, None) & (7, F) & (11, B) & (6, C)} \\
\hline
\end{tabu}

\newpage
\item Explain the Model-View-Control design pattern. \\
\begin{answer}
The Model handles the data. The View handles the UI. The Controller handles the communication between the Model and the View, and handles the primary logic of the program.
MVC is the abstraction of this concept, and namely the idea behind the seperation and split into these 3 components. From Wikipedia:
Model-View-Controller (MVC) is a design pattern for implementing user interfaces. It divides a given software application into three interconnected parts, so as to separate internal representations of information from the ways that information is presented to or accepted from the user. The central component, the model, consists of application data, business rules, logic and functions. A view can be any output representation of information, such as a chart or a diagram. Multiple views of the same information are possible, such as a bar chart for management and a tabular view for accountants. The third part, the controller, accepts input and converts it to commands for the model or view.
\end{answer}

\item Is there anything wrong with the following exception handler as written? Will this
code work as intended? 
\begin{lstlisting}[language=java]
try {
	this.epicFail();
} catch (Exception e) {
	...
} catch (ArithmeticException a) {
	...
}
\end{lstlisting}
\begin{answer}
Exception is more broad than ArithmeticException, so the second catch statement is unreachable.  "Catch" statements should filter possible Exception types from specific to broad.
\end{answer}



\item What is the Java Collections Framework? \\
\begin{answer}
    a unified set of interfaces, algorithms and concrete implementaions 
provided by Java to support collections of objects.
\end{answer}





\item Describe the difference between \texttt{Comparable} and \texttt{Comparator}. \\
\begin{answer}
Both are interfaces.
\texttt{Comparable} specifies a method called \texttt{compareTo()} that takes one argument: the object to compare with the one on which the method was called.
\texttt{Comparator} specifies a method called \texttt{compareTo()} that instead takes two arguments and compares those objects.

Making a class implement the \texttt{Comparable} interface establishes a canonical ordering for instances of that type.
In contrast, one usually starts a new, empty class when inheriting from \texttt{Comparator}; implementing several such functors for a particular class allows you to sort objects of that type using different criteria.
\end{answer}



\item Write code to naturally sort the given list in as few lines as possible. You should not need a for-loop or any numbers (Integer, int, Double, double,
BigInteger, etc...).
\begin{lstlisting}[language=java]
List<String> list = Arrays.asList("a", "o", "d", f", "x");
\end{lstlisting}
\begin{answer}
Collections.sort(list);
\\//or
\\TreeSet\textless String\textgreater  sorted = new TreeSet\textless String\textgreater (list);
\end{answer}


\newpage
\item Describe each of the following layout managers:
\begin{enumerate}

\item FlowLayout
\begin{answer}
The FlowLayout class puts components in a row, sized at their preferred size. If the horizontal space in the container is too small to put all the components in one row, the FlowLayout class uses multiple rows. If the container is wider than necessary for a row of components, the row is, by default, centered horizontally within the container. \end{answer}

\item BorderLayout
\begin{answer}
With a BorderLayout, if the window is enlarged, the center area gets as much of the available space as possible. The other areas expand only as much as necessary to fill all available space. Often a container uses only one or two of the areas of the BorderLayout object — just the center, or the center and the bottom. \end{answer}

\item GridLayout
\begin{answer}
A GridLayout object places components in a grid of cells. Each component takes all the available space within its cell, and all cells are exactly the same size. If the GridLayoutDemo window is resized, the GridLayout object changes the cell size so that the cells are as large as possible, given the space available to the container.\end{answer}
\end{enumerate}




\item
\begin{enumerate}
	\item What are the primary differences between an ArrayList and a LinkedList?
	
	\begin{answer}
	LinkedList is implemented as a doubly-linked list.
	\\ArrayList is implemented as a dynamically resizing array.
	\\ \\ArrayList allows fast random access, but adding or removing from the middle of the array
	requires shifting all the elements. LinkedList always has constant-time insertions or removals
	if accessed through an iterator (thus we already know the insertion/removal point), but getting
	an element requires traversing the list until we get to the wanted index.
	
	\end{answer}
	
	\item Which would be better in each of the following situations?
	\begin{enumerate}
		\item Inserting a random number into a sorted list.
		\begin{answer}
		LinkedList - Constant insertion time (ArrayList will have to adjust index values of all elements after the insertion point).
		\end{answer}
		
		\item Creating a list that will hold all the players in a game.  The game has a max limit on the amount of players. 
		\begin{answer}
		ArrayList - You have a fixed limit, so pre-allocate enough space for that amount.
		\end{answer}
 
		\item Deleting from near the tail end of the list.
		\begin{answer}
		ArrayList - Your linked list may have to iterate all the way down, while the ArrayList just jumps to the right spot.
		\end{answer}
				
		\item Deleting from the head end of the list.
		\begin{answer}
		LinkedList - Constant time operation, but O(n) for the ArrayList.
		\end{answer}
				
	\end{enumerate}

\end{enumerate}  



\newpage
\item Create a class that constructs and displays the following GUI: \\
%image is right-aligned to give students more writing space
\begin{minipage}{0.5\textwidth}
\vspace{-48pt}
The buttons within the GUI do not need to be functional.  You may or may not need the following: JTextField, JButton, BorderLayout, BoxLayout, FlowLayout.LEFT, JFrame, JComponent, JDesktopPane, and an exit-on-close operation.  The window should be 300 by 300 pixels and have a title.
\end{minipage}
\hspace{50px}
\begin{minipage}{0.3\textwidth}
\includegraphics[scale=0.6]{calculator.png}
\end{minipage} \hfill

\vspace{-48pt}
\begin{answer}
\begin{lstlisting}[language=java,basicstyle=\small]
import java.awt.*;
import javax.swing.*;

public class BasicGUI {

	public BasicGUI() {
		JFrame frame = new JFrame("Kid's Calculator");
		frame.setLayout(new BorderLayout());
		
		JPanel top = new JPanel();
		top.setLayout(new BoxLayout(top, BoxLayout.LINE_AXIS));
		top.add(new JTextField());
		
		JPanel center = new JPanel();
		center.setLayout(new GridLayout(4,3));
		for(int i = 0; i < 10; ++i) {
			center.add(new JButton(Integer.toString(i)));
		}
		center.add(new JButton("-"));
		center.add(new JButton("+"));
		
		JPanel bottom = new JPanel();
		bottom.setLayout(new FlowLayout(FlowLayout.RIGHT));
		bottom.add(new JButton("Calculate"));
		JButton clearButton = new JButton("Clear");
		bottom.add(clearButton);
		
		Container pane = frame.getContentPane();
		pane.add(top, BorderLayout.NORTH);
		pane.add(center, BorderLayout.CENTER);
		pane.add(bottom, BorderLayout.SOUTH);
		
		frame.pack();
		frame.setSize(300, 300);
		frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		frame.setVisible(true);
	}
	
	public static void main(String[] args) {
		BasicGUI gui = new BasicGUI();
	}
}
\end{lstlisting}
\end{answer}


\newpage
\item Briefly explain the differences between the three kinds of exceptions: checked exceptions, runtime exceptions, and errors.
\begin{answer}

\textbf{checked exceptions} -– Exceptions that a method signature must specify it throws. If a method
may throw a checked exception, all calls to that method must be within a try-catch block. Checked exceptions should be used exclusively for minor issues, and any reasonably robust
system should be able to recover from a checked exception. Classic example is IOException.\\

\textbf{runtime exception} -– Not declared in a method signature and not anticipated to be thrown.
Usually represents a major software issue and often causes the program to crash. Classic
examples are NullPointerException and ArrayIndexOutOfBoundsException.\\

\textbf{errors} -– Represent a serious issue outside of the control of the programmer (hard drive
failure, not enough memory, device issue). Examples are IOError, VirtualMachineError and
ThreadDeath (see java's Error class).
\end{answer}



\item Given the following code snippet, rewrite ControlListener as an anonymous class passed into the addActionListener() method calls.  
\begin{lstlisting}[language=java]
class ControlListener implements ActionListener{
	public void actionPerformed(ActionEvent e) {
		if((JButton)e.getSource()).getText().equals("ok")) {
			System.exit(0);
		} else {
			log.debug("User pressed cancel.");
		}
	}
}

ControlListener cListener = new ControlListener();
JButton okButton = new JButton("ok");
JButton cancelButton = new JButton("cancel");
okButton.addActionListener(cListener);
cancelButton.addActionListener(cListener);
\end{lstlisting}
\begin{answer}
\begin{lstlisting}[language=java]
JButton okButton = new JButton("ok");
okButton.addActionListener(new ActionListener() {
	public void actionPerformed(ActionEvent e) {
		System.exit(0);
	}
});

JButton cancelButton = new JButton("cancel");
cancelButton.addActionListener(new ActionListener() {
	public void actionPerformed(ActionEvent e) {
		log.debug("User pressed cancel.");
	}
});
\end{lstlisting}
\end{answer}
\newpage

\item Briefly explain what an \texttt{Iterator} is, and why you would want
to make something Iterable. Why and how would you make an Iterator \emph{general}? \\ \\
\begin{answer}
An iterator lets us iterate or loop over an object, by visiting any/every element or member of the object in succession. Iterators may check if a next object exists using \texttt{hasNext()}, return the next element in the iteration via \texttt{next()}, and also remove the last object in the collection that was returned gusing \texttt{remove()}. \\ \\ The second part of this question is partially a trick question. Iterators are inherently generic, in that you must specify a type. This is done by [ ... Iterator$<$E$>$ ], where E will be the generic type parameter. For example, if we are dealing with an array list consisting of \texttt{Person} objects, the iterator for the aforementioned array list should consequently deal in \texttt{Person}s.
\end{answer}
\begin{enumerate}
	\item To make your collection class Iterable, you would (circle one):\\
	\texttt{implement the interface, Iteratable} OR \texttt{implement the interface, Iterator}\\
	\begin{answer}
		\texttt{implement the interface, Iteratable} (the first one)
	\end{answer}
	\item To make an Iterator for your Iterable collection class, you would (circle one):\\
	\texttt{implement the interface, Iteratable} OR \texttt{implement the interface, Iterator}\\
	\begin{answer}
	\texttt{implement the interface, Iterator} (the second one)
	\end{answer}
	\item Rewrite the following code snippets to use an Iterator.
	\begin{lstlisting}[language=java]
	public static Integer sum ( ArrayList<Integer> lst ) {
		Integer total = 0 ;
		for( Integer elem : lst ) {
			total = total + elem ;
		}
		return total ;
	}
	\end{lstlisting}
	\begin{answer}
	\begin{lstlisting}[language=java]
	public static Integer sum (ArrayList<Integer> lst){
		Integer total=0;
		for(Iterator<Integer> iter=lst.iterator();iter.hasNext();){
			Integer cur_val=iter.next(); 
			total=total+cur_val;
		}
		return total;
	}
	\end{lstlisting}
	\end{answer}

\end{enumerate}













\end{enumerate}
\end{document}

Topics for this exam:
	- Graphs: DFS/BFS
		# 1, 2
	- Dijkstra's Shortest Path
		# 13
	- Java Collection Framework, Iterators, Comparators
		# 5, 6, 7, 9
	- Intro. to GUIs (from OO perspective)
		# 3, 12?
	- Swing
		# 8, 10
	- Exceptions
		# 4, 11	

1) DFS problem - example problem, description of underlying data structure.
2) BFS problem stemming off of material from problem #1 (same graph, also talks about the data struct=queues)
3) MVC Design Pattern
4) Exception - catching
5) define JCF
6) Comparable vs Comparator
7) Collections - easy sorting
8) Swing - layouts
9) Collection - lists
10) Swing - full GUI
11) Exception - types
12) Anonymous classes, Swing - action listener
13) Dijkstra, effect of negative edge weight(s)


